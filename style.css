:root{
  --bg:#07090f;
  --panel:#0b1020;
  --panel2:#141a2a;
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --line:rgba(255,255,255,.10);
  --glow:rgba(122,162,255,.35);
  --glow2:rgba(155,255,207,.35);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

html,body{height:100%;margin:0;background:var(--bg);color:var(--text);overflow:hidden;}
#scene{position:fixed;inset:0;}

.hud{
  position:fixed; top:14px; left:14px; right:14px;
  display:flex; align-items:center; justify-content:space-between;
  pointer-events:none;
}
.hud-left,.hud-right{display:flex;gap:10px;align-items:center;pointer-events:auto;}
.chip{
  padding:8px 10px;border:1px solid var(--line);
  border-radius:999px;background:rgba(11,16,32,.55);
  box-shadow:0 0 24px rgba(0,0,0,.35);
  font-weight:800;
}
.muted{color:var(--muted);}
.tiny{font-size:12px;}

.btn{
  border:1px solid var(--line);
  background:rgba(11,16,32,.55);
  color:var(--text);
  padding:9px 12px;
  border-radius:12px;
  cursor:pointer;
  transition:transform .12s ease, border-color .12s ease;
}
.btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.22);}
.btn.primary{
  background:linear-gradient(135deg, rgba(122,162,255,.22), rgba(155,255,207,.16));
  border-color:rgba(122,162,255,.35);
}
.btn.ghost{background:rgba(11,16,32,.35);}

.product-panel, .basket-panel{
  position:fixed; right:14px; top:70px;
  width:320px; max-width:calc(100vw - 28px);
  background:rgba(11,16,32,.82);
  border:1px solid var(--line);
  border-radius:18px;
  box-shadow:0 12px 60px rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
}
.product-panel-inner, .basket-inner{padding:14px;}
.product-title{font-size:18px;font-weight:800;margin-top:4px;}
.product-left img{
  width:100%;
  height:160px;
  object-fit:cover;
  border-radius:14px;
  border:1px solid var(--line);
  margin:10px 0;
  background:rgba(255,255,255,.04);
}
.panel-actions{
  display:flex; gap:10px; margin-top:12px;
}

.basket-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.basket-items{display:flex;flex-direction:column;gap:10px;max-height:42vh;overflow:auto;padding-right:4px;}
.basket-item{
  display:flex;justify-content:space-between;align-items:center;
  border:1px solid var(--line); border-radius:14px;
  padding:10px; background:rgba(20,26,42,.35);
}
.qty{display:flex;align-items:center;gap:8px;}
.basket-footer{display:flex;justify-content:space-between;align-items:center;margin-top:10px;}

.hoverTip{
  position:fixed; z-index:20;
  background:rgba(11,16,32,.9);
  border:1px solid var(--line);
  padding:8px 10px;
  border-radius:12px;
  font-size:12px;
  pointer-events:none;
  box-shadow:0 10px 40px rgba(0,0,0,.55);
}

/* Book Modal */
.bookModal{
  position:fixed; inset:0; z-index:50;
  background:rgba(7,9,15,.82);
  backdrop-filter: blur(10px);
  display:flex; align-items:center; justify-content:center;
}
.bookShell{
  width:min(860px, calc(100vw - 28px));
  background:rgba(11,16,32,.92);
  border:1px solid var(--line);
  border-radius:20px;
  box-shadow:0 18px 80px rgba(0,0,0,.65);
  padding:16px;
}
.bookClose{
  position:fixed; left:14px; top:14px; z-index:60;
}
.bookHeader{display:flex;justify-content:space-between;align-items:flex-end;gap:14px;}
.bookTitle{font-weight:900;font-size:18px;}
.bookMeta{color:var(--muted);font-size:12px;}
.bookPages{margin-top:12px;}
.bookPage{
  border:1px solid var(--line);
  border-radius:18px;
  background:linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  min-height:320px;
  padding:14px;
  white-space:pre-wrap;
}
.bookControls{display:flex;justify-content:space-between;margin-top:12px;}

/* Bottom Home control */
.home-bar{
  position:fixed;
  inset:0 0 16px 0;
  display:flex;
  justify-content:center;
  align-items:flex-end;
  pointer-events:none;
  z-index:15;
}
.home-bar-inner{
  background:rgba(11,16,32,.55);
  border:1px solid var(--line);
  border-radius:14px;
  padding:8px 12px;
  box-shadow:0 0 30px rgba(122,162,255,.25), 0 12px 40px rgba(0,0,0,.45);
  pointer-events:auto;
}
.home-btn{
  min-width:92px;
  box-shadow:0 0 16px rgba(122,162,255,.35);
}
